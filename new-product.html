<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Window Shopping - Add Product</title>
    <link href="https://fonts.cdnfonts.com/css/amazon-ember" rel="stylesheet">
    <script src="/currency.min.js" async defer></script>
    <script src="formSubmit.js"></script>
  </head>
  <body>
    <form id="myForm" >
        <label for="title">Title:</label>
        <input 
            type="text"
            id="title"
            name="title"
            minlength="1"
            maxlength="255"
            required
        />
        <label for="price">Price:</label>
            <input
                type="number"
                id="price"
                name="price"
                placeholder="10.00"
                required
            />
        <label for="description">Description:</label>
            <input
                type="text"
                id="description"
                name="description"
                placeholder="About Product"
                minlength="1"
                required
            />
        <label for='image' >Image Upload</label>
            <input type="url" id="image" name="image" value="http://placekitten.com/200/300">
        <label for="category">Categories</label>
            <select name="category" id="category" required>
                <option value="Men's Clothing">Men's Clothing </option>
                <option value="Women's Clothing">Women's Clothing </option>
                <option value="Jewelry">Jewelry</option>
                <option value="Electronics">Electronics</option>
            </select>
        <button type="submit" id="submit-btn"> Submit</button> 
    </form> 
    <script>
        window.onload = () => {
            // When a user types in something for price, we format it
            /** @type {(HTMLInputElement | null)} */
            const priceInput = document.querySelector('#price');
            if (priceInput === null){
                throw new Error('PriceInput is null')
            }
            priceInput.addEventListener('blur', (e) => {
                // e.target is your current priceInput
                // e.target

                /** @type {string} */
                const unformattedValue = e.target.value; // It has a value property you can read or change
                const formattedValue = currency(unformattedValue);
                e.target.value = formattedValue;
                console.log(e.target.value)
            });
        }
    </script>
    <script type="module" src="/formSubmit.js"></script>
  </body>
</html>
